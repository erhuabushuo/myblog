Title: 数据挖掘指南：十五、基于物品本身特征来进行推荐
Date: 2016-09-02 11:55
Category: Data Mining

前面我们试用用户对物品的评价来进行推荐，本节我们使用物品本身的特征来进行推荐。

## 根据物品特征进行分类

前面我们讨论如何使用协同过滤来进行推荐，由于使用的是用户产生的各种数据，因此又称为社会化过滤算法。

协同过滤存在问题有数据的稀疏性和算法的可扩展性。此外，协同过滤算法倾向于推荐那些已经很流行的物品。

## 选择评分问题

如果在推荐时两者这些特征的评分都很低，我们不能告诉用户“因为这首歌曲没有钢琴伴奏，所以我们推荐给你”。 因此，我们需要使用那些相似的且评分较高的特征。

## 评分标准问题

如果使用距离计算公式某个较大评分结果将直接影响整个评分结果

## 标准化

要让数据变得可用我们可以对其进行标准化，最常用的方法是将所有数据都转化为0到1之间的值。

例如薪酬数据举例，最大值115,000和最小值43,000相差72,000,要让所有值都落到0到1之间，可以将每个值减去最小值，除以范围（72,000）

所以标准化之后的薪水是：

![](http://i2.buimg.com/1949/793abeff7e4bb096.png)

如果你学过统计学，会知道还有其他的标准化方法。

比如说标准分(z-score)——分值偏离均值的程度：

![](http://i2.buimg.com/1949/a7872cc1aadb3146.png)

标准差的计算公式是：

![](http://i1.piimg.com/1949/6d2b7521aa6c4ef2.png)

card(x)表示集合x中的元素个数。

![](http://i4.buimg.com/1949/a7c94479f681a8ee.png)

上面的数据示例中。所有人薪水的总和是577,000，一共有8人，所以均值为72,125。

代入标准差的计算公式：

![](http://i4.buimg.com/1949/9a7b69e927d72697.png)

那么Yun的标准分则是：

![](http://i4.buimg.com/1949/fec62516b4c9da28.png)

其他标准分：

![](http://i4.buimg.com/1949/e5d8e9efba47fbc3.png)

## 标准分带来的问题

标准分的问题在于它受异常值的影响。

比如说一家公司有100名员工，普通员工每小时赚10美元，而CEO一年能赚600万，那全公司的平均时薪为：

![](http://i4.buimg.com/1949/a47ed8d7783b1e98.png)

结果是每小时38美元，看起来很美好，但其实并不真实。鉴于这个原因，标准分的计算公式会稍作变化。

## 修正的标准分

计算方法：将标准分公式中的均值改为中位数，将标准差改为绝对偏差。

以下是绝对偏差的计算公式

![](http://i1.piimg.com/1949/8ff4d23358d4e40b.png)

中位数指的是将所有数据进行排序，取中间的那个值。如果数据量是偶数，则取中间两个值的均值。

下面就让我们试试吧。

首先将所有人按薪水排序，找到中位数，然后计算绝对偏差：

![](http://i1.piimg.com/1949/c1d27bd3ae955ede.png)

最后，我们便可以计算得出Yun的修正标准分：

![](http://i2.buimg.com/1949/928791a0804a6f93.png)

## 是否需要标准化

当物品的特征数值尺度不一时，就有必要进行标准化。

需要进行标准化的情形：

1. 我们需要通过物品特性来计算距离；
2. 不同特性之间的尺度相差很大。

但对于那种“赞一下”、“踩一脚”的评分数据，就没有必要做标准化了：

![](http://i2.buimg.com/1949/3378c6f58f556bcc.png)

