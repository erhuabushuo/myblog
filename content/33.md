Title: 数据挖掘指南：十八、十折交叉验证
Date: 2016-09-07 11:55
Category: Data Mining

本节我们来进一步了解一下分类器中十折交叉验证法。

## 问题

之前我们编写了一个分类器程序，通过运动员的身高和体重来判断她参与的运动项目——体操、田径、篮球等。

当构建完一个分类器后，应该问以下问题：

* 分类器的准确度如何？
* 结果理想吗？
* 如何其他分类器做比较？


## 训练集和测试集

之前我们将数据集分为了两个部分，第一部分用来构造分类器，因此称为训练集;
另一部分用来评估分类器的结果，因此称为测试集。

使用训练集去测试分类器，得到的结果肯定是百分之百准确。

将数据集拆分成一大一小两个部分来做为训练和测试是不可取的。


解决办法之一是将数据集按不同的方式拆分，测试多次，取结果的平均值。
比如，我们将数据集拆分均等的两份：

![](http://i4.buimg.com/1949/87259063e21570e9.png)

我们可以先用第一部分做训练集，第二部分做测试集，然后再反过来，取两次测试的
平均结果。我们还可以将数据集分成三份，用两个部分来做训练集，一个部分来做测试集，迭代三次：

1. 使用Part 1和Part 2训练，使用Part 3测试；
2. 使用Part 1和Part 3训练，使用Part 2测试;
3. 使用Part 2和Part 3训练，使用Part 1测试；

最后取三次测试的平均结果。

## 十折交叉验证

在数据挖掘中，通常的做法是将数据集拆分成十份，并按上述方式进行迭代测试。
这种方式称为**十折交叉验证**

假设我有一个分类器能判断某个人是否是篮球运动员。我的数据集包含500个运动员
和500个普通人。

### 第一步：将数据分成10份

![](http://i1.piimg.com/1949/f5d021affafd97c2.png)

每个桶中会放50个篮球运动员，50个普通人，一共100人。

### 第二步：重复以下步骤10次

1. 每次迭代我们保留一个桶，比如第一次迭代保留木桶1，第二次保留木桶2。
2. 我们使用剩余的9个桶来训练分类器，比如第一次迭代使用木桶2至10来训练。
3. 我们用刚才保留的一个桶来进行测试，并记录结果，比如：35个篮球运动员分类正确，29个普通人分类正确。

### 第三步：合并结果

我们用一张表格来展示结果：

![](http://i1.piimg.com/1949/4b054f4d083dca2e.png)

500个篮球运动员中有372个人判断正确，500个普通人中有280个人判断正确，所以我们可以认为1000人中有652个人判断正确，准确率就是65.2%。

通过十折交叉验证得到的评价结果肯定会比二折或者三折来得准确，毕竟我们使用了90%的数据进行训练，而非二折验证中的50%。

