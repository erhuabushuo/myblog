Title: 数据挖掘指南：二十三、优化近邻算法
Date: 2016-09-12 11:55
Category: Data Mining

有一种分类器叫“机械记忆分类器”，它会将数据集完整地保存下来，并用来判断某条记录是否存在于
数据集中。我们可以认为之前构建的分类器是记忆分类器的一种扩展，只是我们不要求新的记录完全对应到数据集中的某一条记录，只要距离最近就可以了。

## 近邻算法的缺陷

近邻算法的问题之一是异常数据。

## kNN算法

优化方法之一是考察这条新记录周围距离最近的k条记录，而不是只看一条，因此这种方法称为
k近邻算法(kNN)。

每个近邻都有投票权，程序会将新记录判定为得票数最多的分类。比如说，我们使用三个近邻（k = 3），其中两条记录属于体操，一条记录属于马拉松，那我们会判定x为体操。
因此，我们在判定一条记录的具体分类时可以用这种投票的方法。如果两个分类的票数相等，就随机选取一个。

但对于需要预测具体数值的情形，比如一个人对Funky Meters乐队的评分，我们可以计算k个近邻的距离加权平均值。

## 示例

我们需要预测Ben对Funky Meters的喜好程度，他的三个近邻分别是Sally、Tara、和Jade。

下表是这三个人离Ben的距离，以及他们对Funky Meters的评分：

![](http://i1.piimg.com/1949/272dfab63e985599.png)

可以看到，Sally离Ben最近，她给Funky Meters的评分是4。

在计算平均值的时候，我希望距离越近的用户影响越大，因此可以对距离取倒数，从而得到下表：

![](http://i1.piimg.com/1949/a22612161c60b8ea.png)

下面，我们把所有的距离倒数除以距离倒数的和（0.2 + 0.1 + 0.067 = 0.367），从而得到评分的权重：

![](http://i1.piimg.com/1949/ff0268e86edbdfd5.png)

我们可以注意到两件事情：权重之和是1；原始数据中，Sally的距离是Tara的二分之一，这点在权重中体现出来了。

最后，我们求得平均值，也即预测Ben对Funky Meters的评分：

![](http://i4.buimg.com/1949/c36d6ef726e38b5f.png)






